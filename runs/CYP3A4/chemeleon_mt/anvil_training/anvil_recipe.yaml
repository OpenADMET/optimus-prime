data:
  anvil_dir: file:///home/xuc2/skunkworks/gpu_testing/gpu_runs/chemeleon_mt
  cat_entry: null
  dropna: false
  input_col: OPENADMET_SMILES
  resource: ../multitask.csv
  target_cols:
  - cyp3a4_pchembl_value_mean
  - cyp2d6_pchembl_value_mean
  - cyp2c9_pchembl_value_mean
  - cyp1a2_pchembl_value_mean
  type: intake
metadata:
  authors: Hugo M-O
  biotargets:
  - CYP3A4
  - CYP2D6
  - CYP2C9
  - CYP1A2
  build_number: 0
  description: basic regression  using a ChemProp multitask task model
  driver: pytorch
  email: hugo.macdermott-opeskin@omsf.io
  name: chemprop_MT_pchembl_testing_chemprop
  tag: openadmet-CYP3A4-pchembl-regression-testing-cv
  tags:
  - openadmet
  - test
  - pchembl
  version: v1
procedure:
  feat:
    params: {}
    type: ChemPropFeaturizer
  model:
    params:
      batch_norm: true
      depth: 4
      dropout: 0.2
      ffn_hidden_dim: 1024
      ffn_hidden_num_layers: 4
      from_chemeleon: true
      message_hidden_dim: 2048
      messages: bond
      n_tasks: 4
    type: ChemPropModel
  split:
    params:
      random_state: 42
      test_size: 0.2
      train_size: 0.7
      val_size: 0.1
    type: ShuffleSplitter
  train:
    params:
      accelerator: gpu
      max_epochs: 100
      use_wandb: false
      wandb_project: multitask_chemprop_ensemble_iteration4
    type: LightningTrainer
report:
  eval:
  - params: {}
    type: RegressionMetrics
  - params:
      axes_labels:
      - True pChEMBL
      - Predicted pChEMBL
      max_val: 10
      min_val: 3
      pXC50: true
      title: Multitask True vs Predicted pChEMBL on test set
    type: RegressionPlots
  - params:
      axes_labels:
      - True pChEMBL
      - Predicted pChEMBL
      n_repeats: 5
      n_splits: 2
      pXC50: true
      random_state: 42
      title: Multitask True vs Predicted pChEMBL on test set
    type: PytorchLightningRepeatedKFoldCrossValidation
